var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var f=(s,n)=>{for(var o in n)p(s,o,{get:n[o],enumerable:!0})},h=(s,n,o,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of w(n))!P.call(s,t)&&t!==o&&p(s,t,{get:()=>n[t],enumerable:!(i=l(n,t))||i.enumerable});return s};var m=s=>h(p({},"__esModule",{value:!0}),s);var I={};f(I,{OutputStream:()=>d,execute:()=>E});module.exports=m(I);var a=require("node:child_process"),d=(o=>(o[o.HIDE=0]="HIDE",o[o.PIPE=1]="PIPE",o))(d||{});function E(s,n,o=0){const i={shell:!0,env:{...process.env},stdio:o===0?["ignore","ignore","pipe"]:"pipe"};return new Promise((t,c)=>{const g=[],u=[],e=(0,a.spawn)(s,n,i).on("close",r=>{r===0?t(g.join("")):c(u.join(""))});e.stdout?.on("data",r=>{g.push(r.toString())}),e.stderr?.on("data",r=>{u.push(r.toString())}),e.on("error",r=>{c(JSON.stringify(r))})})}0&&(module.exports={OutputStream,execute});
